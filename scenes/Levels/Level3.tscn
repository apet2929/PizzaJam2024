[gd_scene load_steps=13 format=3 uid="uid://cg5or8mniimff"]

[ext_resource type="Script" path="res://Scripts/Levels/level_3.gd" id="1_8y8yi"]
[ext_resource type="Material" uid="uid://0jed1sk6jq5" path="res://assets/GrassMaterial.tres" id="2_73rsb"]
[ext_resource type="PackedScene" uid="uid://bqqp3t3gyi13u" path="res://scenes/new_worm.tscn" id="3_gi4wf"]
[ext_resource type="Script" path="res://Scripts/Camera_Follow.gd" id="4_o40nd"]
[ext_resource type="Material" uid="uid://dk0job0vsm27r" path="res://assets/Dirt_Material.tres" id="5_x7dqd"]
[ext_resource type="PackedScene" uid="uid://k10usb8384ng" path="res://scenes/fence.tscn" id="6_cymw5"]
[ext_resource type="PackedScene" uid="uid://d076us4fj6gri" path="res://scenes/pressure_pad.tscn" id="8_bik0k"]
[ext_resource type="PackedScene" uid="uid://br1c6x1rx1cy8" path="res://scenes/guillotine.tscn" id="9_a200x"]
[ext_resource type="PackedScene" uid="uid://bce6atjqp6kof" path="res://scenes/finish.tscn" id="10_kcl62"]
[ext_resource type="Script" path="res://Scripts/draw_worm_pos.gd" id="11_ui8hk"]
[ext_resource type="PackedScene" uid="uid://bpfqxl45awiyk" path="res://scenes/Menu/SceneTransition.tscn" id="12_ebuxp"]

[sub_resource type="Environment" id="Environment_4m1be"]
background_mode = 1
background_color = Color(0, 0.506, 0.66, 1)
ambient_light_source = 1
tonemap_mode = 3
adjustment_enabled = true
adjustment_brightness = 1.12
adjustment_saturation = 1.6

[node name="LevelBase" type="Node3D"]
script = ExtResource("1_8y8yi")
next_lvl = "res://scenes/Levels/Level4.tscn"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4m1be")

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5107, -33.5474, -0.502271)
layers = 2
use_collision = true
collision_layer = 2
collision_mask = 2
size = Vector3(4, 67.095, 14)
material = ExtResource("2_73rsb")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.673273, -0.556626, 0.486694, -0.543889, 0.073076, 0.835969, -0.500888, -0.827542, -0.253544, 0, 0, 0)
light_energy = 0.5
shadow_enabled = true

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.486403, 0.839235, 0.243097, -0.51784, 0.0527998, 0.853847, 0.703743, -0.541199, 0.460272, 0, 0, 0)
light_energy = 0.5
shadow_enabled = true

[node name="Worm" parent="." instance=ExtResource("3_gi4wf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.98681, 0.463309, -3.90225)
spawn_points = [Vector3(0, 0, 0), Vector3(0, 0, 1), Vector3(0, 0, 2), Vector3(0, 0, 3), Vector3(0, 0, 4)]

[node name="GameCamera" type="Camera3D" parent="."]
transform = Transform3D(0.707107, -0.45452, 0.541675, 0, 0.766045, 0.642788, -0.707107, -0.45452, 0.541675, 9.5, 20, 12)
projection = 1
current = true
fov = 35.0
size = 11.0
far = 43.98
script = ExtResource("4_o40nd")

[node name="Walls" type="Node3D" parent="."]

[node name="walls1" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.00522, 0.251725, -4.01046)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(1, 0.499512, 1)

[node name="walls12" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.00522, 0.251725, -4.01046)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(1, 0.499512, 1)

[node name="walls2" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.00522, 0.251725, -2.5105)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(1, 0.499512, 12)

[node name="walls3" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.50522, -32.4985, 5.4895)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(2, 66, 4)

[node name="walls11" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.00522, -32.4985, 6.9895)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(5, 66, 1)

[node name="walls9" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.50522, -32.4985, 5.4895)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(2, 66, 4)

[node name="walls8" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.50522, -30.9985, -0.0105)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(2, 63, 9)

[node name="walls10" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.00522, -29.4985, -6.5105)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(1, 60, 4)

[node name="walls4" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.00522, 0.251725, -8.0105)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(5, 0.499512, 1)

[node name="walls6" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.81015, 0.251725, -7.0105)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(1.39014, 0.499512, 1)

[node name="walls7" type="CSGBox3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.00522, 0.251725, -6.0105)
material_override = ExtResource("5_x7dqd")
use_collision = true
size = Vector3(1, 0.499512, 1)

[node name="Finish" parent="." instance=ExtResource("10_kcl62")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -6.98176, 0.321328, 5.99432)
collision_layer = 8

[node name="Fence" parent="." instance=ExtResource("6_cymw5")]
transform = Transform3D(-0.45, 0, 3.93403e-08, 0, 0.45, 0, -3.93403e-08, 0, -0.45, -7.0255, 0.481618, 3.52954)

[node name="Guillotine" parent="." instance=ExtResource("9_a200x")]
transform = Transform3D(-8.08661e-09, 0, 0.185, 0, 0.185, 0, -0.185, 0, -8.08661e-09, -5.98647, 0.0708526, -4.60879)

[node name="CollisionShape3D" parent="Guillotine" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.7726, 4.73161, 0.0947876)

[node name="LeftWall" parent="Guillotine" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.7068, 2.496, -1.778)

[node name="RightWall" parent="Guillotine" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.8108, 2.49554, 1.77765)

[node name="Model" parent="Guillotine" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.8108, 0, 0)

[node name="DroppedCollision" parent="Guillotine" index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.8108, 0, 0)

[node name="WormCheck" parent="Guillotine" index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.40541, 0, 0)

[node name="PressurePad" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -7.01031, -4.76837e-07, -6.9931)

[node name="PressurePad2" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -8.01031, -4.76837e-07, -2.9931)

[node name="DebugLayer" type="CanvasLayer" parent="."]
visible = false

[node name="DrawWormPos" type="Control" parent="DebugLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("11_ui8hk")
metadata/_edit_use_anchors_ = true

[node name="SceneTransition" parent="." instance=ExtResource("12_ebuxp")]

[connection signal="pressed" from="PressurePad" to="." method="_on_pressure_pad_pressed"]
[connection signal="unpressed" from="PressurePad" to="." method="_on_pressure_pad_unpressed"]
[connection signal="pressed" from="PressurePad2" to="." method="_on_pressure_pad_pressed"]
[connection signal="unpressed" from="PressurePad2" to="." method="_on_pressure_pad_unpressed"]

[editable path="Guillotine"]
