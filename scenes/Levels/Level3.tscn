[gd_scene load_steps=15 format=3 uid="uid://by8tsjmsb7uxc"]

[ext_resource type="Script" path="res://Scripts/Levels/level_3.gd" id="1_8y8yi"]
[ext_resource type="Material" uid="uid://d28i7xt3e1ww0" path="res://assets/Floor_Material.tres" id="1_mac5y"]
[ext_resource type="Texture2D" uid="uid://b6t875vqcy5kn" path="res://assets/Grass_Tile.png" id="2_1pc33"]
[ext_resource type="PackedScene" uid="uid://bqqp3t3gyi13u" path="res://scenes/new_worm.tscn" id="3_gi4wf"]
[ext_resource type="Script" path="res://Scripts/Camera_Follow.gd" id="4_o40nd"]
[ext_resource type="PackedScene" uid="uid://k10usb8384ng" path="res://scenes/fence.tscn" id="6_cymw5"]
[ext_resource type="PackedScene" uid="uid://c2apv7vg2rtcy" path="res://scenes/lettuce.tscn" id="7_xoi07"]
[ext_resource type="PackedScene" uid="uid://d076us4fj6gri" path="res://scenes/pressure_pad.tscn" id="8_bik0k"]
[ext_resource type="PackedScene" uid="uid://br1c6x1rx1cy8" path="res://scenes/guillotine.tscn" id="9_a200x"]
[ext_resource type="PackedScene" uid="uid://bce6atjqp6kof" path="res://scenes/finish.tscn" id="10_kcl62"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w8wp2"]
albedo_texture = ExtResource("2_1pc33")
uv1_scale = Vector3(0.063, 0.063, 0.063)
uv1_offset = Vector3(0.094, 0, -0.031)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4cr8f"]

[sub_resource type="Sky" id="Sky_oi8rl"]
sky_material = SubResource("ProceduralSkyMaterial_4cr8f")

[sub_resource type="Environment" id="Environment_rnq1e"]
background_mode = 2
sky = SubResource("Sky_oi8rl")

[node name="LevelBase" type="Node3D"]
script = ExtResource("1_8y8yi")

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
layers = 2
material_override = ExtResource("1_mac5y")
use_collision = true
collision_layer = 2
collision_mask = 2
size = Vector3(100, 1, 100)
material = SubResource("StandardMaterial3D_w8wp2")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_rnq1e")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.673273, -0.556626, 0.486694, -0.543889, 0.073076, 0.835969, -0.500888, -0.827542, -0.253544, 0, 0, 0)
shadow_enabled = true

[node name="Worm" parent="." instance=ExtResource("3_gi4wf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 0.458, -4)
spawn_points = [Vector3(0, 0, 0), Vector3(0, 0, -1)]

[node name="GameCamera" type="Camera3D" parent="."]
transform = Transform3D(0.707107, -0.45452, 0.541675, 0, 0.766045, 0.642788, -0.707107, -0.45452, 0.541675, 3.3, 6.1, 3.3)
projection = 1
fov = 35.0
size = 8.293
script = ExtResource("4_o40nd")

[node name="walls20" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.98394, 0.263932, -11.4166)
use_collision = true
collision_layer = 17
size = Vector3(0.99959, 0.523926, 3.74406)

[node name="walls18" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.43234, 0.263932, -9.99037)
use_collision = true
collision_layer = 17
size = Vector3(1.85359, 0.523926, 0.857022)

[node name="walls19" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.0185, 0.263932, -11.4666)
use_collision = true
collision_layer = 17
size = Vector3(1.02592, 0.523926, 3.80947)

[node name="walls15" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.87583, 0.263932, -2.0434)
use_collision = true
collision_layer = 17
size = Vector3(4.53505, 0.523926, 0.774702)

[node name="walls16" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.99937, 0.263932, -6.02111)
use_collision = true
collision_layer = 17
size = Vector3(0.782138, 0.523926, 8.73012)

[node name="walls17" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.96659, 0.263932, -6.9722)
use_collision = true
collision_layer = 17
size = Vector3(0.787998, 0.523926, 6.85334)

[node name="walls21" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.94338, 0.263932, -2.06337)
use_collision = true
collision_layer = 17
size = Vector3(2.81368, 0.523926, 0.814647)

[node name="walls22" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.94188, 0.263932, -4.46765)
use_collision = true
collision_layer = 17
size = Vector3(0.816675, 0.523926, 4.02349)

[node name="walls23" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.92686, 0.263932, -6.03168)
use_collision = true
collision_layer = 17
size = Vector3(1.06544, 0.523926, 0.895422)

[node name="Fence" parent="." instance=ExtResource("6_cymw5")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -4.99823, 0.534031, -9.74223)
collision_layer = 17
open = true

[node name="Lettuce" parent="." instance=ExtResource("7_xoi07")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -4.05774, 2.38419e-07, -8.96172)

[node name="Lettuce2" parent="." instance=ExtResource("7_xoi07")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -4.05774, 2.38419e-07, -6.1449)

[node name="Lettuce3" parent="." instance=ExtResource("7_xoi07")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -6.01985, 2.38419e-07, -9.17673)

[node name="Lettuce4" parent="." instance=ExtResource("7_xoi07")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -6.01985, 2.38419e-07, -6.12951)

[node name="PressurePad" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -4.97347, -4.76837e-07, -6.96457)

[node name="PressurePad7" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -5.03652, -4.76837e-07, -3.01371)

[node name="PressurePad2" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -4.97347, -4.76837e-07, -8.02922)

[node name="PressurePad3" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -4.06291, -4.76837e-07, -8.02465)

[node name="PressurePad4" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -4.06291, -4.76837e-07, -6.96836)

[node name="PressurePad5" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -6.03342, -4.76837e-07, -8.04069)

[node name="PressurePad6" parent="." instance=ExtResource("8_bik0k")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -6.03947, -4.76837e-07, -6.96343)

[node name="Guillotine" parent="." instance=ExtResource("9_a200x")]
transform = Transform3D(-9.39795e-09, 0, 0.215, 0, 0.215, 0, -0.215, 0, -9.39795e-09, -4.99507, -0.00554323, -4.76795)
collision_layer = 19

[node name="Finish" parent="." instance=ExtResource("10_kcl62")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.98565, 0.865602, -12.7635)

[connection signal="pressed" from="PressurePad7" to="." method="_on_pressure_pad_7_pressed"]
[connection signal="unpressed" from="PressurePad7" to="." method="_on_pressure_pad_7_unpressed"]
